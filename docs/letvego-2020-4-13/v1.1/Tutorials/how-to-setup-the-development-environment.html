

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>&lt;no title&gt; &mdash; VeChain Documentation Legacy 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> VeChain Documentation Legacy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul class="simple">
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">VeChain Documentation Legacy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li>&lt;no title&gt;</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/letvego-2020-4-13/v1.1/Tutorials/how-to-setup-the-development-environment.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p>—
title: “Setup the development environment using Truffle”
slug: “how-to-setup-the-development-environment”
excerpt: “Author: Totient LabsnOriginal URL: <a class="reference external" href="https://github.com/totient-labs/comet-docs/blob/master/DEV_ENV.md">https://github.com/totient-labs/comet-docs/blob/master/DEV_ENV.md</a>”
hidden: false
createdAt: “2019-02-22T08:45:29.657Z”
updatedAt: “2019-04-04T09:03:55.052Z”
—
This guide will cover the process of setting up your local environment for developing on the VeChainThor blockchain using the standard <cite>web3</cite> stack.</p>
<p>## Getting Started</p>
<p>This guide assumes you are using MacOS with <cite>homebrew</cite> and <cite>pip3</cite> installed. We welcome any pull requests to expand this guide to other platforms.</p>
<p>## Prerequisites</p>
<ul class="simple">
<li>[VeChainThor](<a class="reference external" href="https://github.com/vechain/thor">https://github.com/vechain/thor</a>) - VeChainThor Network Node</li>
<li>[Web3-Gear](<a class="reference external" href="https://github.com/vechain/web3-gear">https://github.com/vechain/web3-gear</a>) - Proxy Thor’s RESTful API to Eth JSON-RPC</li>
</ul>
<p>## Development Stack</p>
<p>![VeChain Development Stack](<a class="reference external" href="https://files.readme.io/9aa24f6-development-stack.jpg">https://files.readme.io/9aa24f6-development-stack.jpg</a>)</p>
<p>## Installing</p>
<p>### Running the VeChainThor Local Node</p>
<p>We recommend developer to set up a VeChainThor node running locally for development. This will be your own local testnet that you can easiliy spin up or down without having to worry about affecting the rest of the network.</p>
<p>#### Requirements</p>
<ul class="simple">
<li>Thor requires <cite>Go</cite> 1.10+ and <cite>C</cite> compiler to build. To install <cite>Go</cite>, follow this [link](<a class="reference external" href="https://golang.org/doc/install">https://golang.org/doc/install</a>).</li>
<li>Install [dep](<a class="reference external" href="https://github.com/golang/dep">https://github.com/golang/dep</a>) dependency manager for <cite>Go</cite>.</li>
</ul>
<p>#### Getting the source</p>
<p>Clone the Thor repo:</p>
<blockquote>
<div>git clone <a class="reference external" href="https://github.com/vechain/thor.git">https://github.com/vechain/thor.git</a></div></blockquote>
<p>#### Install dependencies</p>
<p>Simply run:</p>
<blockquote>
<div>make dep</div></blockquote>
<p>#### Building</p>
<p>To build the <cite>thor</cite> node application run
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">make</span>
<span class="pre">`</span></code></p>
<p>#### Running node</p>
<p>Once built you will want to run the node in <cite>solo</cite> mode. This instructs the node to run locally as its own network instead of connecting to <cite>testnet</cite> or <cite>mainnet</cite>.
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">./bin/thor</span> <span class="pre">solo</span> <span class="pre">--api-cors</span> <span class="pre">&quot;*&quot;</span>
<span class="pre">`</span></code></p>
<p>The <cite>–api-cors</cite> flag enables secure websocket connections from web3 and the Comet extension.</p>
<p>#### Further Info</p>
<p>[<a class="reference external" href="https://github.com/vechain/web3-gear/blob/master/README.rst](https://github.com/vechain/thor/blob/master/README.md">https://github.com/vechain/web3-gear/blob/master/README.rst](https://github.com/vechain/thor/blob/master/README.md</a>)</p>
<p>### Web3-Gear</p>
<p>Web3-Gear is a proxy server that converts Eth JSON-RPC to VeChainThor’s RESTful API. You will need to run web3-gear so that truffle can talk to your local VeChainThor node.</p>
<p>#### Requirements</p>
<ul class="simple">
<li>Python 3.6+ support</li>
<li>OpenSSL</li>
</ul>
<p>#### Installation</p>
<p>Install the system-dependecies:</p>
<blockquote>
<div>brew install openssl</div></blockquote>
<p>Installation of Web3-Gear and it’s dependent Python packages via PyPI:</p>
<blockquote>
<div>pip3 install web3-gear</div></blockquote>
<p>####  Run</p>
<blockquote>
<div>web3-gear</div></blockquote>
<p>#### Other useful options</p>
<p>These options will be useful in later sections for deploying your contracts to <cite>testnet</cite> or <cite>mainnet</cite>.</p>
<div class="line-block">
<div class="line">Flag       | Description                                                   |</div>
<div class="line">———- | ————————————————————- |</div>
<div class="line">–host     | rpc service host, eg: <cite>–host 127.0.0.1</cite>                      |</div>
<div class="line">–port     | rpc service port, eg: <cite>–port 8545</cite>                           |</div>
<div class="line">–keystore | custom keystore filepath, eg: <cite>–keystore /path/to/keystore)</cite> |</div>
<div class="line">–passcode | passcode of custom keystore, eg: <cite>–passcode xxxxxxxx</cite>        |</div>
</div>
<p>#### Further Info</p>
<p>[<a class="reference external" href="https://github.com/vechain/web3-gear/blob/master/README.rst](https://github.com/vechain/web3-gear/blob/master/README.rst">https://github.com/vechain/web3-gear/blob/master/README.rst](https://github.com/vechain/web3-gear/blob/master/README.rst</a>)</p>
<p>### Truffle</p>
<p>Truffle is your development environment for building and deploying contract code. Truffle is an Ethereum project however using web3-gear, can work with VeChainThor.</p>
<p>If you do not already have a truffle project started please start by reading through their documentation [<a class="reference external" href="https://truffleframework.com/docs/truffle/overview](https://truffleframework.com/docs/truffle/overview">https://truffleframework.com/docs/truffle/overview](https://truffleframework.com/docs/truffle/overview</a>).</p>
<p>#### Configure</p>
<p>Once you have a truffle project setup you may configure your project to talk to <cite>web3-gear</cite> by updating your <cite>truffle.js</cite> file</p>
<blockquote>
<div><dl class="docutils">
<dt>module.exports = {</dt>
<dd><dl class="first docutils">
<dt>networks: {</dt>
<dd><dl class="first docutils">
<dt>development: {</dt>
<dd>host: “localhost”,
port: 8545,        // Default web3-gear port
network_id: “*”    // Match any network id</dd>
</dl>
<p class="last">}</p>
</dd>
</dl>
<p class="last">}</p>
</dd>
</dl>
<p>};</p>
</div></blockquote>
<p>#### Deploy</p>
<p>To deploy your project’s contracts to your local VeChainThor node run</p>
<blockquote>
<div>truffle migrate</div></blockquote>
<p>#### Deploying to full network</p>
<ul class="simple">
<li>Deploying to <cite>testnet</cite> or <cite>mainnet</cite> can be accomplish by pointing your <cite>web3-gear</cite> at a <cite>testnet</cite> or <cite>mainnet</cite> node using the <cite>–host</cite> and <cite>–port</cite> flags</li>
<li>When deploying to testnet or mainnet you’ll need to load your own wallet into <cite>web3-gear</cite> using the <cite>–keystore</cite> and <cite>–passcode</cite> flags. Make sure to also use this address in your truffle migration scripts</li>
</ul>
<p>#### Debugging</p>
<p>To debug a transaction run
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">truffle</span> <span class="pre">debug</span> <span class="pre">&lt;TxID&gt;</span>
<span class="pre">`</span></code></p>
<p>Note that this only works in the latest <cite>master</cite> of <cite>thor</cite>. You must run your local node in <cite>solo</cite> mode and not use the <cite>–persist</cite> or <cite>–on-demand</cite> flags. This feature is a work in progress so you may experience bugs while using.</p>
<p>#### Further Info</p>
<p>[<a class="reference external" href="https://truffleframework.com/docs/truffle/overview](https://truffleframework.com/docs/truffle/overview">https://truffleframework.com/docs/truffle/overview](https://truffleframework.com/docs/truffle/overview</a>)</p>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, VeChain Developers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>