

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Setup the development environment using Truffle &mdash; VeChain Documentation (Legacy) 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/js/versionwarning.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Setup VeChainThor custom network" href="custom-network.html" />
    <link rel="prev" title="Tutorials" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> VeChain Documentation (Legacy)
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../VeChainThorBlockchain/index.html">VeChainThor Blockchain</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GetStarted/index.html">Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Smart-Contrac-Standard-and-Library/index.html">Smart Contrac Standard and Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Connex-js/index.html">Connex-js</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Development-Tools/index.html">Development Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Tutorials</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Setup the development environment using Truffle</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom-network.html">Setup VeChainThor custom network</a></li>
<li class="toctree-l2"><a class="reference internal" href="solo.html">Install VeChain SOLO development environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="built-in.html">How to use built-in contracts</a></li>
<li class="toctree-l2"><a class="reference internal" href="vip180.html">How to add your VIP180 token to wallets, explorer and applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="vip191.html">How to Integrate VIP-191</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Turnkey-Solutions/index.html">Turnkey Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Hardware/index.html">Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Contribute/index.html">Contribute</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">VeChain Documentation (Legacy)</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Tutorials</a> &raquo;</li>
        
      <li>Setup the development environment using Truffle</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Tutorials/how-to-setup-the-development-environment.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="setup-the-development-environment-using-truffle">
<h1>Setup the development environment using Truffle<a class="headerlink" href="#setup-the-development-environment-using-truffle" title="Permalink to this headline">¶</a></h1>
<p>This guide will cover the process of setting up your local environment for developing on the VeChainThor blockchain using the standard <code class="docutils literal notranslate"><span class="pre">web3</span></code> stack.</p>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>This guide assumes you are using MacOS with <code class="docutils literal notranslate"><span class="pre">homebrew</span></code> and <code class="docutils literal notranslate"><span class="pre">pip3</span></code> installed. We welcome any pull requests to expand this guide to other platforms.</p>
</div>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://github.com/vechain/thor">VeChainThor</a> - VeChainThor Network Node</li>
<li><a class="reference external" href="https://github.com/vechain/web3-gear">Web3-Gear</a> - Proxy Thor’s RESTful API to Eth JSON-RPC</li>
</ul>
</div>
<div class="section" id="development-stack">
<h2>Development Stack<a class="headerlink" href="#development-stack" title="Permalink to this headline">¶</a></h2>
<p><img alt="VeChain Development Stack" src="https://files.readme.io/9aa24f6-development-stack.jpg" /></p>
</div>
<div class="section" id="installing">
<h2>Installing<a class="headerlink" href="#installing" title="Permalink to this headline">¶</a></h2>
<div class="section" id="running-the-vechainthor-local-node">
<h3>Running the VeChainThor Local Node<a class="headerlink" href="#running-the-vechainthor-local-node" title="Permalink to this headline">¶</a></h3>
<p>We recommend developer to set up a VeChainThor node running locally for development. This will be your own local testnet that you can easiliy spin up or down without having to worry about affecting the rest of the network.</p>
<div class="section" id="requirements">
<h4>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Thor requires <code class="docutils literal notranslate"><span class="pre">Go</span></code> 1.10+ and <code class="docutils literal notranslate"><span class="pre">C</span></code> compiler to build. To install <code class="docutils literal notranslate"><span class="pre">Go</span></code>, follow this <a class="reference external" href="https://golang.org/doc/install">link</a>.</li>
<li>Install <a class="reference external" href="https://github.com/golang/dep">dep</a> dependency manager for <code class="docutils literal notranslate"><span class="pre">Go</span></code>.</li>
</ul>
</div>
<div class="section" id="getting-the-source">
<h4>Getting the source<a class="headerlink" href="#getting-the-source" title="Permalink to this headline">¶</a></h4>
<p>Clone the Thor repo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">vechain</span><span class="o">/</span><span class="n">thor</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</div>
<div class="section" id="install-dependencies">
<h4>Install dependencies<a class="headerlink" href="#install-dependencies" title="Permalink to this headline">¶</a></h4>
<p>Simply run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">dep</span>
</pre></div>
</div>
</div>
<div class="section" id="building">
<h4>Building<a class="headerlink" href="#building" title="Permalink to this headline">¶</a></h4>
<p>To build the <code class="docutils literal notranslate"><span class="pre">thor</span></code> node application run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span>
</pre></div>
</div>
</div>
<div class="section" id="running-node">
<h4>Running node<a class="headerlink" href="#running-node" title="Permalink to this headline">¶</a></h4>
<p>Once built you will want to run the node in <code class="docutils literal notranslate"><span class="pre">solo</span></code> mode. This instructs the node to run locally as its own network instead of connecting to <code class="docutils literal notranslate"><span class="pre">testnet</span></code> or <code class="docutils literal notranslate"><span class="pre">mainnet</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="nb">bin</span><span class="o">/</span><span class="n">thor</span> <span class="n">solo</span> <span class="o">--</span><span class="n">api</span><span class="o">-</span><span class="n">cors</span> <span class="s2">&quot;*&quot;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">--api-cors</span></code> flag enables secure websocket connections from web3 and the Comet extension.</p>
</div>
<div class="section" id="further-info">
<h4>Further Info<a class="headerlink" href="#further-info" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://github.com/vechain/thor/blob/master/README">https://github.com/vechain/web3-gear/blob/master/README.rst</a></p>
</div>
</div>
<div class="section" id="web3-gear">
<h3>Web3-Gear<a class="headerlink" href="#web3-gear" title="Permalink to this headline">¶</a></h3>
<p>Web3-Gear is a proxy server that converts Eth JSON-RPC to VeChainThor’s RESTful API. You will need to run web3-gear so that truffle can talk to your local VeChainThor node.</p>
<div class="section" id="id1">
<h4>Requirements<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Python 3.6+ support</li>
<li>OpenSSL</li>
</ul>
</div>
<div class="section" id="installation">
<h4>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h4>
<p>Install the system-dependecies:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">openssl</span>
</pre></div>
</div>
<p>Installation of Web3-Gear and it’s dependent Python packages via PyPI:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="n">web3</span><span class="o">-</span><span class="n">gear</span>
</pre></div>
</div>
</div>
<div class="section" id="run">
<h4>Run<a class="headerlink" href="#run" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">web3</span><span class="o">-</span><span class="n">gear</span>
</pre></div>
</div>
</div>
<div class="section" id="other-useful-options">
<h4>Other useful options<a class="headerlink" href="#other-useful-options" title="Permalink to this headline">¶</a></h4>
<p>These options will be useful in later sections for deploying your contracts to <code class="docutils literal notranslate"><span class="pre">testnet</span></code> or <code class="docutils literal notranslate"><span class="pre">mainnet</span></code>.</p>
<p>| Flag       | Description                                                   |
| ———- | ————————————————————- |
| –host     | rpc service host, eg: <code class="docutils literal notranslate"><span class="pre">--host</span> <span class="pre">127.0.0.1</span></code>                      |
| –port     | rpc service port, eg: <code class="docutils literal notranslate"><span class="pre">--port</span> <span class="pre">8545</span></code>                           |
| –keystore | custom keystore filepath, eg: <code class="docutils literal notranslate"><span class="pre">--keystore</span> <span class="pre">/path/to/keystore)</span></code> |
| –passcode | passcode of custom keystore, eg: <code class="docutils literal notranslate"><span class="pre">--passcode</span> <span class="pre">xxxxxxxx</span></code>        |</p>
</div>
<div class="section" id="id2">
<h4>Further Info<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://github.com/vechain/web3-gear/blob/master/README.rst">https://github.com/vechain/web3-gear/blob/master/README.rst</a></p>
</div>
</div>
<div class="section" id="truffle">
<h3>Truffle<a class="headerlink" href="#truffle" title="Permalink to this headline">¶</a></h3>
<p>Truffle is your development environment for building and deploying contract code. Truffle is an Ethereum project however using web3-gear, can work with VeChainThor.</p>
<p>If you do not already have a truffle project started please start by reading through their documentation <a class="reference external" href="https://truffleframework.com/docs/truffle/overview">https://truffleframework.com/docs/truffle/overview</a>.</p>
<div class="section" id="configure">
<h4>Configure<a class="headerlink" href="#configure" title="Permalink to this headline">¶</a></h4>
<p>Once you have a truffle project setup you may configure your project to talk to <code class="docutils literal notranslate"><span class="pre">web3-gear</span></code> by updating your <code class="docutils literal notranslate"><span class="pre">truffle.js</span></code> file</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">module</span><span class="o">.</span><span class="n">exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">networks</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">development</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">host</span><span class="p">:</span> <span class="s2">&quot;localhost&quot;</span><span class="p">,</span>
            <span class="n">port</span><span class="p">:</span> <span class="mi">8545</span><span class="p">,</span>        <span class="o">//</span> <span class="n">Default</span> <span class="n">web3</span><span class="o">-</span><span class="n">gear</span> <span class="n">port</span>
            <span class="n">network_id</span><span class="p">:</span> <span class="s2">&quot;*&quot;</span>    <span class="o">//</span> <span class="n">Match</span> <span class="nb">any</span> <span class="n">network</span> <span class="nb">id</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="deploy">
<h4>Deploy<a class="headerlink" href="#deploy" title="Permalink to this headline">¶</a></h4>
<p>To deploy your project’s contracts to your local VeChainThor node run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">truffle</span> <span class="n">migrate</span>
</pre></div>
</div>
</div>
<div class="section" id="deploying-to-full-network">
<h4>Deploying to full network<a class="headerlink" href="#deploying-to-full-network" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Deploying to <code class="docutils literal notranslate"><span class="pre">testnet</span></code> or <code class="docutils literal notranslate"><span class="pre">mainnet</span></code> can be accomplish by pointing your <code class="docutils literal notranslate"><span class="pre">web3-gear</span></code> at a <code class="docutils literal notranslate"><span class="pre">testnet</span></code> or <code class="docutils literal notranslate"><span class="pre">mainnet</span></code> node using the <code class="docutils literal notranslate"><span class="pre">--host</span></code> and <code class="docutils literal notranslate"><span class="pre">--port</span></code> flags</li>
<li>When deploying to testnet or mainnet you’ll need to load your own wallet into <code class="docutils literal notranslate"><span class="pre">web3-gear</span></code> using the <code class="docutils literal notranslate"><span class="pre">--keystore</span></code> and <code class="docutils literal notranslate"><span class="pre">--passcode</span></code> flags. Make sure to also use this address in your truffle migration scripts</li>
</ul>
</div>
<div class="section" id="debugging">
<h4>Debugging<a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h4>
<p>To debug a transaction run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">truffle</span> <span class="n">debug</span> <span class="o">&lt;</span><span class="n">TxID</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Note that this only works in the latest <code class="docutils literal notranslate"><span class="pre">master</span></code> of <code class="docutils literal notranslate"><span class="pre">thor</span></code>. You must run your local node in <code class="docutils literal notranslate"><span class="pre">solo</span></code> mode and not use the <code class="docutils literal notranslate"><span class="pre">--persist</span></code> or <code class="docutils literal notranslate"><span class="pre">--on-demand</span></code> flags. This feature is a work in progress so you may experience bugs while using.</p>
</div>
<div class="section" id="id3">
<h4>Further Info<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://truffleframework.com/docs/truffle/overview">https://truffleframework.com/docs/truffle/overview</a></p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="custom-network.html" class="btn btn-neutral float-right" title="Setup VeChainThor custom network" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Tutorials" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, VeChain Developers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>