

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>title: “How to use built-in contracts” slug: “test” hidden: false createdAt: “2019-02-27T05:43:07.468Z” updatedAt: “2019-04-22T09:41:58.127Z” &mdash; VeChain Documentation (Legacy) 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/js/versionwarning.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> VeChain Documentation (Legacy)
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../VeChainThorBlockchain/index.html">VeChainThor Blockchain</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GetStarted/index.html">Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Smart-Contrac-Standard-and-Library/index.html">Smart Contrac Standard and Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Connex-js/index.html">Connex-js</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Development-Tools/index.html">Development Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Turnkey-Solutions/index.html">Turnkey Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Hardware/index.html">Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Contribute/index.html">Contribute</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">VeChain Documentation (Legacy)</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>title: “How to use built-in contracts”
slug: “test”
hidden: false
createdAt: “2019-02-27T05:43:07.468Z”
updatedAt: “2019-04-22T09:41:58.127Z”</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Tutorials/test.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <hr class="docutils" />
<div class="section" id="title-how-to-use-built-in-contracts-slug-test-hidden-false-createdat-2019-02-27t05-43-07-468z-updatedat-2019-04-22t09-41-58-127z">
<h1>title: “How to use built-in contracts”
slug: “test”
hidden: false
createdAt: “2019-02-27T05:43:07.468Z”
updatedAt: “2019-04-22T09:41:58.127Z”<a class="headerlink" href="#title-how-to-use-built-in-contracts-slug-test-hidden-false-createdat-2019-02-27t05-43-07-468z-updatedat-2019-04-22t09-41-58-127z" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="thor-builtins">
<h1>thor-builtins<a class="headerlink" href="#thor-builtins" title="Permalink to this headline">¶</a></h1>
<p>built-in for VeChain</p>
<p>The builtin contracts including “authority.sol”, “energy.sol”, “extension.sol”, “params.sol”, “prototype.sol” and “executor.sol”. You can check the source code of these contracts by visiting: https://github.com/vechain/thor/blob/master/builtin/gen. We will give a detailed description of these contracts and teach you how to use it in your dapp. Some simple examples generated by truffle will be given and you can run it on the VechainThor testnet.</p>
<div class="section" id="builtin-contracts">
<h2>builtin contracts<a class="headerlink" href="#builtin-contracts" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">authority.sol</span></code></li>
</ul>
<p>Authority is related to the PoA (“Proof of Authority”) consensus mechanism.
The Authority contract manages a list of candidates proposers who is responsible for packing transactions into a block. The proposers are authorized by a voting committee, but only the first 101 proposers in the candidate list can pack block. A candidate proposer includes signer address, endorsor address and identity. Signer address is used to sign a block, endorsor address is used for charging miner’s fee and identity is used for identifying the proposer.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">energy.sol</span></code></li>
</ul>
<p>Energy represents the sub-token in VeChainThor which conforms the VIP180 standard. The name of energy token is “VTHO” and 1 VTHO equals to 1e18 wei. The main function of VTHO is to pay for the transaction fee. VTHO is generated from VET, so the initial supply of VTHO is zero in the genesis block. The growth rate of VTHO is 5000000000 wei per token (VET) per second, that is to say, 1 VET will produce about 0.000432 VTHO per day. The miner will charge 30 percent of the transation fee and 70 percent will be burned. So the total supply of VTHO is dynamic.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">extension.sol</span></code></li>
</ul>
<p>Extension extends EVM functions.
Extension gives an opportunity for the developer to get information of the current transaction and any history block within the range of genesis to best block.
The information obtained based on block number includes blockID, blockTotalScore, blockTime and blockSigner. The developer can also get the current transaction information, including txProvedWork, txID, txBlockRef and txExpiration.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">params.sol</span></code></li>
</ul>
<p>Params stores the governance params of VeChainThor.
The params can be set by the executor, a contract that is authorized to modify governance params by a voting committee. Anyone can get the params just by calling “get” function. The governance params are written in genesis block at launch time. You can check these params in the source file: https://github.com/vechain/thor/blob/master/thor/params.go.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">prototype.sol</span></code></li>
</ul>
<p>Prototype is an account management model of VeChainThor.
In the account management model every contract has a master account, which, by default, is the creator of a contract. The master account plays the role of a contract manager, which has some authorities including “setMaster”, “setCreditPlan”, “addUser”, “removeUser” and “selectSponsor”.
Every contract keeps a list of users who can call the contract for free but limited by credit. The user of a specific contract can be either added or removed by the contract master. Although from a user’s perspective the fee is free, it is paid by a sponsor of the contract.  Any one can be a sponser of a contract, just by calling sponsor function, and also the sponsor identity can be cancelled by calling unsponsor function. A contract may have more than one sponsors, but only the current sponsor chosen by master need to pay the fee for the contract.
If the current sponsor is out of energy, master can select sponsor from other sponsor candidates by calling selectSponsor function. The creditPlan can be set by the master which includes credit and recoveryRate. Every user has the same original credit. Every Transaction consumes some amount of credit which is equal to the fee of the Transaction, and the user can also pay the fee by itself if the gas payer is out of the credit. The credit can be recovered based on recoveryRate (per block).</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">executor.sol</span></code></li>
</ul>
<p>Executor represents core component for on-chain governance.
The on-chain governance params can be changed by the Executor through a voting. A steering committee consists of seven approvers who had been added to the contract Executor in the genesis block. The new approver can be added and the old approver also can be removed from the steering committee. The steps of executor include proposing, approving and executing voting if the voting was passed. Only the approver in the steering committee has the authority to propose and approving a voting.</p>
</div>
<div class="section" id="library-built-in">
<h2>Library Built-in<a class="headerlink" href="#library-built-in" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">builtin.sol</span></code></li>
</ul>
<p>The VeChainThor builtin contracts are encapsulated in library Builtin. It’s very easy to use it for the developer, just import it.</p>
</div>
<div class="section" id="how-to-use-it">
<h2>How to use it<a class="headerlink" href="#how-to-use-it" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">extension</span></code></li>
</ul>
<p>The contract extension gives extension information about blockchain including “blockID”, “txID”, and “blockTotalScore” etc. And you can reference it conveniently in your dApp. So you maybe have a contract named “Example.sol”</p>
<ol>
<li><p class="first">Import “Library Builtin” in your solidity code “Example.sol”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="s2">&quot;./builtin.sol&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">Create your contract “Example” and get instance of extension.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">contract</span> <span class="n">Example</span> <span class="p">{</span>
    <span class="n">Extension</span> <span class="n">extension</span> <span class="o">=</span> <span class="n">Builtin</span><span class="o">.</span><span class="n">getExtension</span><span class="p">()</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">In some cases you maybe want to calculate blake2b-256 checksum of given _data.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">bytes32</span> <span class="n">ret</span> <span class="o">=</span> <span class="n">extension</span><span class="o">.</span><span class="n">blake2b256</span><span class="p">(</span><span class="n">_data</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first">Get blockID of blockNum</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">bytes32</span> <span class="nb">id</span> <span class="o">=</span> <span class="n">extension</span><span class="o">.</span><span class="n">blockID</span><span class="p">(</span><span class="n">blockNum</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first">Get blockTotalScore of blockNum</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">uint64</span> <span class="n">totalScore</span> <span class="o">=</span> <span class="n">extension</span><span class="o">.</span><span class="n">blockTotalScore</span><span class="p">(</span><span class="n">blockNum</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first">Get blockTime of blockNum</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">uint</span> <span class="n">time</span> <span class="o">=</span> <span class="n">extension</span><span class="o">.</span><span class="n">blockTime</span><span class="p">(</span><span class="n">blockNum</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first">Get blockSigner of blockNum</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">address</span> <span class="n">signer</span> <span class="o">=</span> <span class="n">extension</span><span class="o">.</span><span class="n">blockSigner</span><span class="p">(</span><span class="n">blockNum</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first">Get totalSupply of VET</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">uint256</span> <span class="n">total</span> <span class="o">=</span> <span class="n">extension</span><span class="o">.</span><span class="n">totalSupply</span><span class="p">();</span>
</pre></div>
</div>
</li>
<li><p class="first">Get txProvedWork of current transaction</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">uint256</span> <span class="n">provedWork</span> <span class="o">=</span> <span class="n">extension</span><span class="o">.</span><span class="n">txProvedWork</span><span class="p">();</span>
</pre></div>
</div>
</li>
<li><p class="first">Get txID of current transaction
<code class="docutils literal notranslate"><span class="pre">bytes32</span> <span class="pre">id</span> <span class="pre">=</span> <span class="pre">extension.txID();</span></code></p>
</li>
<li><p class="first">Get txBlockRef of current transaction
<code class="docutils literal notranslate"><span class="pre">bytes8</span> <span class="pre">Ref</span> <span class="pre">=</span> <span class="pre">extension.txBlockRef();</span></code></p>
</li>
<li><p class="first">txExpiration of current transaction
<code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">expiration</span> <span class="pre">=</span> <span class="pre">extension.txExpiration();</span></code></p>
</li>
</ol>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">executor</span></code></li>
</ul>
<p>Some builtin contracts need executor to execute it, such as “authority.sol” and “params.sol”. We use “executor” including three steps: “propose a voting”, “voting by executive committee” and “execute a voting”. So you maybe have a voting contract named “voting.sol”.</p>
<ol>
<li><p class="first">Import “Library Builtin” in your solidity code “voting.sol”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="s2">&quot;./builtin.sol&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">Create your voting contract and add “propose functon” named “propose”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">contract</span> <span class="n">voting</span> <span class="p">{</span>
    <span class="n">bytes32</span> <span class="n">proposalID</span><span class="p">;</span>
    <span class="n">Executor</span> <span class="n">executor</span> <span class="o">=</span> <span class="n">Builtin</span><span class="o">.</span><span class="n">getExecutor</span><span class="p">();</span>

    <span class="n">function</span> <span class="n">propose</span><span class="p">(</span><span class="n">address</span> <span class="n">target</span><span class="p">,</span> <span class="nb">bytes</span> <span class="n">_data</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">proposalID</span> <span class="o">=</span> <span class="n">executor</span><span class="o">.</span><span class="n">propose</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">_data</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">The executive committee will approve a voting, so will add approve function named “approve”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">contract</span> <span class="n">voting</span> <span class="p">{</span>
    <span class="o">......</span>

    <span class="n">function</span> <span class="n">approve</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">executor</span><span class="o">.</span><span class="n">approve</span><span class="p">(</span><span class="n">proposalID</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">If a voting is passed in one week, anybody can execute it. So we add execute function named “execute”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">contract</span> <span class="n">voting</span> <span class="p">{</span>
    <span class="o">......</span>

    <span class="n">function</span> <span class="n">execute</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">executor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">proposalID</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">authority</span></code></li>
</ul>
<p>If you want to update authority node, you should have a target contract, such as “Target.sol”. Because only the contract executor has the authority to execute it, firstly you should propose a voting to executor. If the voting is passed in a week, you can execute your target contract. Now you can write code like this.</p>
<ol>
<li><p class="first">Import “Library Builtin” in your solidity code “Target.sol”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="s2">&quot;./builtin.sol&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">Create your target contract, we named it “Target”, and create the target function named “targetFunc”. We suppose you want to add “_signer” to the candidate of authority node.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">contract</span> <span class="n">Target</span> <span class="p">{</span>
    <span class="n">Authority</span> <span class="n">authority</span> <span class="o">=</span> <span class="n">Builtin</span><span class="o">.</span><span class="n">getAuthority</span><span class="p">();</span>

    <span class="n">function</span> <span class="n">targetFunc</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">authority</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">_signer</span><span class="p">,</span> <span class="n">_endorsor</span><span class="p">,</span> <span class="n">_indentity</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">You may be propose a voting by executor, and add the proposing function named “proposeFunc”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">contract</span> <span class="n">Target</span> <span class="p">{</span>
    <span class="o">......</span>

    <span class="n">bytes32</span> <span class="n">proposalID</span><span class="p">;</span>
    <span class="n">Executor</span> <span class="n">executor</span> <span class="o">=</span> <span class="n">Builtin</span><span class="o">.</span><span class="n">getExecutor</span><span class="p">();</span>
    <span class="n">function</span> <span class="n">proposeFunc</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">proposalID</span> <span class="o">=</span> <span class="n">executor</span><span class="o">.</span><span class="n">propose</span><span class="p">(</span><span class="n">address</span><span class="p">(</span><span class="n">this</span><span class="p">),</span> <span class="n">abi</span><span class="o">.</span><span class="n">encodePacked</span><span class="p">(</span><span class="n">keccak256</span><span class="p">(</span><span class="s2">&quot;targetFunc()&quot;</span><span class="p">)));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">If the voting is passed in one week, you can execute it, so we should add “execute function” named “executeFunc”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">contract</span> <span class="n">Target</span> <span class="p">{</span>
    <span class="o">......</span>

    <span class="n">function</span> <span class="n">executeFunc</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">executor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">proposalID</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">Only “add” and “revoke” need executor to execute it, other functions like “get”, “first” and “next”, you can call it as your will.</p>
</li>
</ol>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">parmas</span></code></li>
</ul>
<p>The operation of parmas is very simple, just including “set” and “get”. But the “set” operation needs executor to execute.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">prototype</span></code></li>
</ul>
<p>The prototype gives extra properties to contract, such as “master”, “user”, “sponsor” and “credit”. Once a contract is created, the contract has these properties automatically. So you maybe just create an empty contract named “EmptyContract”.</p>
<ol>
<li><p class="first">Import “Library Builtin” in your solidity code “EmptyContract.sol”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="s2">&quot;./builtin.sol&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">Create your “EmptyContract”, and using “Library Builtin” for EmptyContract</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">contract</span> <span class="n">EmptyContract</span> <span class="p">{</span>
    <span class="n">using</span> <span class="n">Builtin</span> <span class="k">for</span> <span class="n">EmptyContract</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">You maybe want to know who is the master of the contract, you just call like this in your contract:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>contract EmptyContract {
    using Builtin for EmptyContract;
    address master = this.$master();
}
</pre></div>
</div>
</li>
<li><p class="first">You alse can set a new master to your contract, but the msg sender must be the old master.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    this.$setMaster(newMaster);
</pre></div>
</div>
</li>
<li><p class="first">Get the blance of the contract:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    uint256 blance = this.$balance(block.number);
</pre></div>
</div>
</li>
<li><p class="first">Get the energy(VTHOR) of the contract:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    uint256 energy = this.$energy(block.number);
</pre></div>
</div>
</li>
<li><p class="first">Check storage value by “key”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    bytes32 value = this.$storageFor(key);
</pre></div>
</div>
</li>
<li><p class="first">Check creditPlan of a contract.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    uint256 credit;
    uint256 recoveryRate;
    credit, recoveryRate = this.$creditPlan()
</pre></div>
</div>
</li>
<li><p class="first">Set a new creditPlan to a contract, but only the master have the authority to do it.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    this.$setCreditPlan(credit, recoveryRate);
</pre></div>
</div>
</li>
<li><p class="first">Add a user to contract, and the operation need master authority.
<code class="docutils literal notranslate"><span class="pre">this.$addUser(newUser);</span></code></p>
</li>
<li><p class="first">Remove an old user from contract(need master authority).
<code class="docutils literal notranslate"><span class="pre">this.$removeUser(oldUser);</span></code></p>
</li>
<li><p class="first">Check if somebody is the user of a given contract.
<code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isUser</span> <span class="pre">=</span> <span class="pre">this.$isUser(somebody);</span></code></p>
</li>
<li><p class="first">Check somebody userCredit of a contract:
<code class="docutils literal notranslate"><span class="pre">uint256</span> <span class="pre">credit</span> <span class="pre">=</span> <span class="pre">this.$userCredit(somebody);</span></code></p>
</li>
<li><p class="first">Check if somebody is the sponsor of a contract.
<code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isSponsor</span> <span class="pre">=</span> <span class="pre">this.$isSponsor(somebody);</span></code></p>
</li>
<li><p class="first">Check who is the currentSponsor.
<code class="docutils literal notranslate"><span class="pre">address</span> <span class="pre">somebody</span> <span class="pre">=</span> <span class="pre">this.$currentSponsor();</span></code></p>
</li>
</ol>
</div>
<div class="section" id="instance-contracts">
<h2>instance contracts<a class="headerlink" href="#instance-contracts" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">CommodityInfo.sol</span></code></li>
</ul>
<p>CommodityInfo stores commodity information into a contract storage.
Just for example, the information of commodity is very simple and it includes id, originPlace, productionDate and shelfLife. Only master or users of the contract have authority to add commodity information.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Voting.sol</span></code></li>
</ul>
<p>Voting intends to modify governance params ‘BaseGasPrice’ in VechainThor by executor. First a voting will be proposed by an approver, and the approvers will vote it in a week. If two thirds of approvers approve the voting, the voting can be executed.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, VeChain Developers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>