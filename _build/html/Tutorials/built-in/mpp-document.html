

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>title: “MPP document” slug: “mpp-document” hidden: true createdAt: “2019-03-05T08:23:17.283Z” updatedAt: “2019-03-21T08:16:42.677Z” &mdash; VeChain Documentation Legacy 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> VeChain Documentation Legacy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../VeChainThorBlockchain/index.html">VeChainThor Blockchain</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../VeChainThorBlockchain/overview.html">What is VeChainThor?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../VeChainThorBlockchain/overview.html#business-friendly-meta-transaction-features">Business Friendly Meta-transaction Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../VeChainThorBlockchain/overview.html#proof-of-authority-poa">Proof of Authority (“PoA”)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../VeChainThorBlockchain/overview.html#governance">Governance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../VeChainThorBlockchain/overview.html#economic-model">Economic Model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../VeChainThorBlockchain/two.html">Two-token design</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../VeChainThorBlockchain/two.html#vet">VET</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../VeChainThorBlockchain/two.html#vtho">VTHO</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../VeChainThorBlockchain/block.html">Block</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../VeChainThorBlockchain/tx-model.html">Transaction Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../VeChainThorBlockchain/mpp.html">Multi-party Payment Protocol (MPP)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../VeChainThorBlockchain/mpp.html#functions-related-to-user">Functions related to <em>User</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../VeChainThorBlockchain/mpp.html#functions-related-to-the-credit-plan">Functions related to the <em>credit plan</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../VeChainThorBlockchain/mpp.html#functions-related-master">Functions related <em>Master</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../VeChainThorBlockchain/mpp.html#functions-related-to-sponsor">Functions related to <em>Sponsor</em></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../VeChainThorBlockchain/poa.html">Proof of Authority (PoA)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../VeChainThorBlockchain/poa.html#when">When</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../VeChainThorBlockchain/poa.html#who">Who</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../VeChainThorBlockchain/poa.html#am-status-updating">AM Status Updating</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../VeChainThorBlockchain/poa.html#trunk">Trunk</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../VeChainThorBlockchain/built-in.html">Built-in Smart Contracts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../GetStarted/index.html">Get Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../GetStarted/how-to-node.html">How to deploy a VeChainThor node</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../GetStarted/docker.html">Docker</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../GetStarted/docker.html#run-vechainthor-authority-masternode-in-docker">Run VeChainThor Authority Masternode in docker</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../GetStarted/docker.html#run-node-in-docker">Run node in docker</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../GetStarted/aws.html">AWS Marketplace</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../GetStarted/aws.html#this-is-an-example-of-solo-node-deployment">This is an example of “solo node” deployment.</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../GetStarted/source.html">Source code</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../GetStarted/source.html#installation">Installation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../GetStarted/public.html">Public VeChainThor nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../GetStarted/how-to-deploy.html">How to deploy a smart contract</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../GetStarted/how-to-deploy.html#quick-start">Quick Start</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../GetStarted/how-to-develop.html">How to develop a dApp</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../GetStarted/how-to-1.html">Intro</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../GetStarted/how-to-1.html#whats-web-application"><strong>What’s Web Application?</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../GetStarted/how-to-1.html#what-is-dapp"><strong>What is DApp?</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../GetStarted/how-to-1.html#write-a-dapp-sync-and-connex"><strong>Write a DApp: Sync and Connex</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../GetStarted/how-to-1.html#token-transfer-a-simple-dapp-in-javascript"><strong>Token Transfer: A Simple DApp in Javascript</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../GetStarted/how-to-2.html">Components and Coding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../GetStarted/how-to-2.html#preparation"><strong>Preparation</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../GetStarted/how-to-2.html#setup-in-3-minutes"><strong>Setup in 3 minutes</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../GetStarted/how-to-2.html#coding"><strong>Coding</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../GetStarted/how-to-2.html#put-things-together"><strong>Put Things Together</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../GetStarted/how-to-2.html#test-the-app"><strong>Test the App</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../GetStarted/how-to-2.html#one-more-thing"><strong>One More Thing</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../GetStarted/how-to-3.html">Setup &amp; Walk Around</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../GetStarted/how-to-3.html#setup-in-3-minutes"><strong>Setup in 3 minutes</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../GetStarted/how-to-3.html#poke-around-familiar-with-sync"><strong>Poke around: Familiar with Sync</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../GetStarted/how-to-3.html#play-with-connex-js-apis"><strong>Play with Connex.js APIs</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../GetStarted/how-to-3.html#summary"><strong>Summary</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/index.html">Smart Contrac Standard and Library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/best-practice.html">Smart contract development best practice</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/best-practice.html#vechainthor-solidity-the-right-way">VeChainThor Solidity The Right Way</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/best-practice.html#motivation">Motivation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/best-practice.html#general-philosophy">General Philosophy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/best-practice/recommendations.html">Recommendations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/best-practice/design-patterns.html">Design Patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/best-practice/security.html">Security</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/best-practice/resources.html">Resources</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip180-token.html">VIP180 fungible token</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip180-token.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip180-token.html#specification">Specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip180-token.html#methods">Methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip180-token.html#name">name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip180-token.html#symbol">symbol</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip180-token.html#decimals">decimals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip180-token.html#totalsupply">totalSupply</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip180-token.html#balanceof">balanceOf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip180-token.html#transfer">transfer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip180-token.html#transferfrom">transferFrom</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip180-token.html#approve">approve</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip180-token.html#allowance">allowance</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip180-token.html#events">Events</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip180-token.html#id1">Transfer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip180-token.html#approval">Approval</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/list-of-vip180-token.html">List of VIP180 tokens</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip181-token.html">VIP181 non-fungible token</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip181-token.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip181-token.html#specification">Specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip181-token.html#methods">Methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip181-token.html#name">name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip181-token.html#symbol">symbol</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip181-token.html#totalsupply">totalSupply</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip181-token.html#balanceof">balanceOf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip181-token.html#ownerof">ownerOf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip181-token.html#transferfrom">transferFrom</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip181-token.html#approve">approve</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip181-token.html#getapproved">getApproved</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip181-token.html#setapprovalforall">setApprovalForAll</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip181-token.html#isapprovedforall">isApprovedForAll</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip181-token.html#events">Events</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip181-token.html#transfer">Transfer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip181-token.html#approval">Approval</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vip181-token.html#approvalforall">ApprovalForAll</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vechain-thornode-contract.html">VeChainThor Node token contract</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vechain-thornode-contract.html#getmetadata">getMetadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vechain-thornode-contract.html#applyupgrade">applyUpgrade</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vechain-thornode-contract.html#cancelupgrade">cancelUpgrade</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vechain-thornode-contract.html#gettokenparams">getTokenParams</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vechain-thornode-contract.html#idtoowner">idToOwner</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vechain-thornode-contract.html#ownertoid">ownerToId</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vechain-thornode-contract.html#createsaleauction">createSaleAuction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vechain-thornode-contract.html#createdirectionalsaleauction">createDirectionalSaleAuction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vechain-thornode-contract.html#bid">bid</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vechain-thornode-contract.html#cancelauction">cancelAuction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vechain-thornode-contract.html#addauctionwhitelist">addAuctionWhiteList</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Smart-Contrac-Standard-and-Library/vechain-thornode-contract.html#removeauctionwhitelist">removeAuctionWhiteList</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Connex-js/index.html">Connex-js</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Connex-js/connex.html">What is Connex?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Connex-js/connex.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Connex-js/connex.html#get-started">Get Started</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/connex.html#vechain-app-bootstrapping">VeChain App Bootstrapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/connex.html#install">Install</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/connex.html#usage">Usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Connex-js/connex.html#resource">Resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Connex-js/connex.html#architecture-explained">Architecture explained</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Connex-js/connex.html#faq">FAQ</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/connex.html#typescript-complier-does-not-find-connex">TypeScript complier does not find Connex</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Connex-js/connex.html#license">License</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Connex-js/connex-api-reference.html">Connex API reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Connex-js/setup-your-connex-environment.html">Setup the Connex environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Connex-js/connex-framework.html">Connex Framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Connex-js/connex-framework.html#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Connex-js/connex-framework.html#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Connex-js/connex-framework.html#see-also">See also</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/connex-framework.html#driver-implementations">Driver implementations:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/connex-framework.html#connex-playground">Connex playground</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Connex-js/connex-implementation-test.html">Connex implementation test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Connex-js/connex-implementation-test.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Connex-js/connex-implementation-test.html#project-setup">Project setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/connex-implementation-test.html#compiles-and-hot-reloads-for-development">Compiles and hot-reloads for development</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/connex-implementation-test.html#compiles-and-minifies-for-production">Compiles and minifies for production</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/connex-implementation-test.html#run-your-tests">Run your tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/connex-implementation-test.html#lints-and-fixes-files">Lints and fixes files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/connex-implementation-test.html#customize-configuration">Customize configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Connex-js/demo.html">Example Connex app</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Connex-js/demo/vechain-insight.html">Insight</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/demo/vechain-insight.html#what-is-insight">What is Insight?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/demo/vechain-insight.html#screenshots">Screenshots</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/demo/vechain-insight.html#project-setup">Project setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/demo/vechain-insight.html#contribute">Contribute</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Connex-js/demo/inspector.html">Inspector</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/demo/inspector.html#project-setup">Project setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/demo/inspector.html#contribute">Contribute</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Connex-js/demo/buy-me-a-coffee.html">Buy Me A Coffee</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/demo/buy-me-a-coffee.html#generate-one-for-you">Generate One For You</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/demo/buy-me-a-coffee.html#development">Development</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/demo/buy-me-a-coffee.html#contribute">Contribute</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Connex-js/demo/energy-station.html">Energy Station (testnet only)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/demo/energy-station.html#what-is-energy-station">What is Energy Station</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/demo/energy-station.html#concept">Concept</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/demo/energy-station.html#deployment">Deployment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/demo/energy-station.html#usage">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Connex-js/demo/energy-station.html#contribute">Contribute</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Development-Tools/index.html">Development Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Development-Tools/java-sdk-introduction.html">Thor Java Client SDK?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/java-sdk-introduction.html#get-started">Get Started</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/java-sdk-introduction.html#create-jar">Create JAR</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/java-sdk-introduction.html#add-jar-to-project">Add JAR to project</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/java-sdk-introduction.html#license">License</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/java-sdk-introduction.html#set-blockchain-nodes-provider">Set blockchain nodes provider</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/java-sdk-introduction.html#you-can-find-the-clients-toolkit-under-the-directory">You can find the clients toolkit under the directory :</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/java-sdk-introduction.html#walletutils">WalletUtils</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/java-sdk-introduction.html#accountclient">AccountClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/java-sdk-introduction.html#transactionclient">TransactionClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/java-sdk-introduction.html#blockclient">BlockClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/java-sdk-introduction.html#logsclient">LogsClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/java-sdk-introduction.html#blockchainclient">BlockchainClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/java-sdk-introduction.html#prototypeclient">ProtoTypeClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/java-sdk-introduction.html#run-the-test">Run the test</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/java-sdk-introduction.html#java-console-approach">4. Java console approach</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Development-Tools/thorify-introduction.html">Thorify</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/thorify-introduction.html#install">Install</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/thorify-introduction.html#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/thorify-introduction.html#web3-method-supported">Web3 method supported</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/thorify-introduction.html#send-transaction">Send Transaction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/thorify-introduction.html#documentation">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/thorify-introduction.html#play-with-multi-clause">Play with multi-clause</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/thorify-introduction.html#faq">FAQ</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/thorify-introduction.html#web3-gear-vs-thorify">Web3-Gear vs Thorify</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/thorify-introduction.html#how-do-i-send-vtho-token">How do I send VTHO token</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/thorify-introduction.html#multi-party-payment-protocol-or-sponsored-contract">Multi party payment protocol or sponsored contract</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/thorify-introduction.html#method-not-supported">Method not supported</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/thorify-introduction.html#subscriptions-support">Subscriptions support</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/thorify-introduction.html#notes">Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/thorify-introduction.html#compatibility">Compatibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/thorify-introduction.html#license">License</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Development-Tools/web3-gear.html">Web3-gear</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/web3-gear.html#installation">Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/web3-gear.html#on-os-x">On OS x</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/web3-gear.html#on-ubuntu">On Ubuntu</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/web3-gear.html#on-window">On Window</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/web3-gear.html#run">Run</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/web3-gear.html#use-remix">Use Remix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/web3-gear.html#use-truffle">Use Truffle</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Development-Tools/dev-kit.html">Thor DevKit</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/dev-kit.html#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/dev-kit.html#usage">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/dev-kit.html#crypto-methods">Crypto methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/dev-kit.html#rlp">RLP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/dev-kit.html#transaction">Transaction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/dev-kit.html#certificate">Certificate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/dev-kit.html#abi">ABI</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/dev-kit.html#license">License</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Development-Tools/ide.html">VIDE (VeChain-IDE)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/ide.html#installation">INSTALLATION:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/ide.html#documentation">Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Development-Tools/consistency.html">Smart Contract Consistency Verification</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/consistency.html#install">Install</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/consistency.html#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/consistency.html#example">Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/consistency.html#download-compiler">Download Compiler</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/consistency.html#methods">Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/consistency.html#references">References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/consistency.html#license">License</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Development-Tools/clients.html">Compatible Clients</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/clients/comet.html">Comet</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/clients/comet.html#what-is-comet">What is Comet?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/clients/comet.html#comet-compatibility-guide">Comet Compatibility Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/clients/comet.html#requirements">Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/clients/comet.html#best-practices">Best Practices</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Development-Tools/clients/sdk.html">Sync</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/clients/sdk.html#build-from-source">Build From Source</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/clients/sdk.html#contributing">Contributing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/clients/sdk.html#acknowledgement">Acknowledgement</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/clients/sdk.html#license">License</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/clients/sdk.html#user-guide">User Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/clients/sdk.html#resources">Resources</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Development-Tools/clients/sdk.html#contribute">Contribute</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Development-Tools/faucet.html">TestNet Faucet</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../how-to-setup-the-development-environment.html">Setup the development environment using Truffle</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../how-to-setup-the-development-environment.html#getting-started">Getting Started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../how-to-setup-the-development-environment.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../how-to-setup-the-development-environment.html#development-stack">Development Stack</a></li>
<li class="toctree-l3"><a class="reference internal" href="../how-to-setup-the-development-environment.html#installing">Installing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../how-to-setup-the-development-environment.html#running-the-vechainthor-local-node">Running the VeChainThor Local Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../how-to-setup-the-development-environment.html#web3-gear">Web3-Gear</a></li>
<li class="toctree-l4"><a class="reference internal" href="../how-to-setup-the-development-environment.html#truffle">Truffle</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../custom-network.html">Setup VeChainThor custom network</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../custom-network.html#requirement">Requirement：</a></li>
<li class="toctree-l3"><a class="reference internal" href="../custom-network.html#before-you-start">Before You Start</a></li>
<li class="toctree-l3"><a class="reference internal" href="../custom-network.html#configure-your-genesis-file">Configure Your Genesis File</a></li>
<li class="toctree-l3"><a class="reference internal" href="../custom-network.html#genesis-description-object">Genesis Description Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="../custom-network.html#authority">Authority</a></li>
<li class="toctree-l3"><a class="reference internal" href="../custom-network.html#params">Params</a></li>
<li class="toctree-l3"><a class="reference internal" href="../custom-network.html#launch-custom-network">Launch Custom Network</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../custom-network/sample-customnetwork.html">Sample CustomNetwork</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../solo.html">Install VeChain SOLO development environment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../solo.html#part-1-install-vechain-thor-software">Part 1 — Install VeChain Thor software</a></li>
<li class="toctree-l3"><a class="reference internal" href="../solo.html#part-1-1-install-debian-9-x64">Part 1.1 — Install Debian 9 x64</a></li>
<li class="toctree-l3"><a class="reference internal" href="../solo.html#part-1-2-install-vechain-thor-node-software">Part 1.2 — Install VeChain Thor Node software</a></li>
<li class="toctree-l3"><a class="reference internal" href="../solo.html#part-2-connect-sync-to-the-solo-network">Part 2 —Connect Sync to the SOLO network</a></li>
<li class="toctree-l3"><a class="reference internal" href="../solo.html#part-2-1-install-sync-and-connect-it-to-the-solo-networks">Part 2.1 — Install Sync and connect it to the SOLO networks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../solo.html#part-3-interact-with-the-solo-node-using-sync">Part 3 — Interact with the SOLO Node using Sync</a></li>
<li class="toctree-l3"><a class="reference internal" href="../solo.html#part-3-1-send-vet-vthor-using-sync">Part 3.1 — Send VET/VTHOR using Sync</a></li>
<li class="toctree-l3"><a class="reference internal" href="../solo.html#part-3-2-deploy-a-smart-contract-to-the-solo-network-through-sync">Part 3.2 — Deploy a smart contract to the SOLO network through Sync</a></li>
<li class="toctree-l3"><a class="reference internal" href="../solo.html#part-3-3-interact-with-the-smart-contract">Part 3.3 — Interact with the Smart Contract</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../built-in.html">How to use built-in contracts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../built-in.html#sample-code">Sample code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../built-in.html#thor-builtins">thor-builtins</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../built-in.html#builtin-contracts">builtin contracts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../built-in.html#library-builtin">Library Builtin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../built-in.html#how-to-use-it">How to use it</a></li>
<li class="toctree-l4"><a class="reference internal" href="../built-in.html#instance-contracts">instance contracts</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vip180.html">How to add your VIP180 token to wallets, explorer and applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vip191.html">How to Integrate VIP-191</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">VeChain Documentation Legacy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>title: “MPP document”
slug: “mpp-document”
hidden: true
createdAt: “2019-03-05T08:23:17.283Z”
updatedAt: “2019-03-21T08:16:42.677Z”</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/Tutorials/built-in/mpp-document.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <hr class="docutils" />
<div class="section" id="title-mpp-document-slug-mpp-document-hidden-true-createdat-2019-03-05t08-23-17-283z-updatedat-2019-03-21t08-16-42-677z">
<h1>title: “MPP document”
slug: “mpp-document”
hidden: true
createdAt: “2019-03-05T08:23:17.283Z”
updatedAt: “2019-03-21T08:16:42.677Z”<a class="headerlink" href="#title-mpp-document-slug-mpp-document-hidden-true-createdat-2019-03-05t08-23-17-283z-updatedat-2019-03-21t08-16-42-677z" title="Permalink to this headline">¶</a></h1>
<p>One of the major obstacles for ordinary people, or even enterprises, to adopt a public blockchain is the uncertainty and complexity in dealing with crypto assets. On one hand, users have to face the high price volatility when acquiring crypto from the market; on the other hand, they need to understand related concepts and get familiar with various tools to be able to use and manage their crypto assets.</p>
<p>Can we find a way around the above-mentioned difficulties? For the existing blockchain networks such as Bitcoin and Ethereum, the answer is most likely negative. This is due to the fact that for those systems transaction fee has to be paid by whom sends the transaction and sending transactions is the way we interact with a public blockchain.</p>
<p>In VeChainThor, we come up with the multi-party payment protocol (MPP) to tackle this problem. Basically, MPP says that transaction fee can be paid by someone other than who sends the transaction if certain conditions meet. In this way, users can interact with VeChainThor even with a zero balance.</p>
<p>Let us first define the terminology to be used to describe MPP as follows:</p>
<ul class="simple">
<li><em>Sender</em> - account that signs the transaction;</li>
<li><em>Recipient</em> - account to which the transaction is sent;</li>
<li><em>Sponsor</em> - account that sponsors the recipient to pay for the transaction fee;</li>
<li><em>User</em> - VeChainTor allows any account to register other accounts as its users and conditionally pay for the cost of the transactions sent them;</li>
<li><em>Credit</em> - available VHTO for paying for transaction cost for a particular user of a particular account.</li>
</ul>
<p><img alt="https://files.readme.io/d5f9847-MPP.png" src="https://files.readme.io/d5f9847-MPP.png" /></p>
<p>The above figure shows the decision-making flow within MPP. When it comes to the question of who should pay for a transaction, VeChainThor first checks the usership and sponsorship associated with the <em>Sender</em> and <em>Recipient</em>. It then tries to deduct the transaction fee from the corresponding account. For instance, if both the usership and sponsorship are in place, the system will first try to deduct the transaction fee from the <em>Sponsor</em>’s balance; if it fails, then from the <em>Recipient</em>’s balance; and if it fails again, from the <em>Sender</em>’s balance.</p>
<p>In practice, a DApp is most likely built upon multiple smart contracts deployed on VeChainThor. Its users interact with our public blockchain through sending transactions to the smart contracts to call a certain function. With MPP, the DApp owner can register its users’ accounts as the <em>User</em> of the smart contracts such that all the legit transactions from the DApp users can be paid by the owner. In this way, people can use the DApp almost in the same way they use other apps without dealing with crypto. Moreover, the owner can set up a single account to sponsor all the smart contract, which makes the maintenance a lot easier.</p>
<div class="section" id="credit-plan">
<h2>Credit Plan<a class="headerlink" href="#credit-plan" title="Permalink to this headline">¶</a></h2>
<p>To prevent MPP from being abused by malicious users, the owner of a smart contract can set a credit plan for the contract to set up rules on how to pay for the transactions from users. In particular, a credit plan can be defined as:</p>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kd">type</span> <span class="nx">creditPlan</span> <span class="kd">struct</span> <span class="p">{</span>
	<span class="nx">Credit</span>       <span class="o">*</span><span class="nx">big</span><span class="p">.</span><span class="nx">Int</span>
	<span class="nx">RecoveryRate</span> <span class="o">*</span><span class="nx">big</span><span class="p">.</span><span class="nx">Int</span>
<span class="p">}</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">RecoveryRate</span></code> is the amount of VTHO (in wei) accumulated per block to pay for transactions for each user and <code class="docutils literal notranslate"><span class="pre">Credit</span></code> the maximum amount of VTHO (in Wei) that can be accumulated.</p>
<p>When the system checks whether an account’s user has a sufficient amount of credit to pay for the transaction, it calculates the available credit <img src="https://latex.codecogs.com/svg.latex?%5Cinline%20%5Clarge%20c" height = "14px" align=center /> as:</p>
<p><img alt="image-10" src="https://latex.codecogs.com/svg.latex?c%20%3D%20%5Cmin%7B%5Cbig%28C%2CC-c_%7B%5Ctextrm%7Bused%7D%7D+r%5Ccdot%5Cmax%7B%280%2C%20h-h_0%29%7D%5Cbig%29%7D" /></p>
<p>where <img src="https://latex.codecogs.com/svg.latex?%5Cinline%20%5Clarge%20C" height = "14px" align=center /> denotes <code class="docutils literal notranslate"><span class="pre">Credit</span></code>, <img src="https://latex.codecogs.com/svg.latex?%5Cinline%20%5Clarge%20r" height = "14px" align=center /> <code class="docutils literal notranslate"><span class="pre">RecoverRate</span></code>, <img src="https://latex.codecogs.com/svg.latex?%5Cinline%20%5Clarge%20h" height = "14px" align=center /> the current block height, <img src="https://latex.codecogs.com/svg.latex?%5Cinline%20%5Clarge%20h_0" height = "14px" align=center /> the block height when the user uses credit last time and <img src="https://latex.codecogs.com/svg.latex?u_%7B%5Ctextrm%7Bused%7D%7D" height = "14px" align=center /> the amount of credit consumed after the user’s last transaction is paid by the account. Note that <img src="https://latex.codecogs.com/svg.latex?C-c_%7B%5Ctextrm%7Bused%7D%7D" height = "14px" align=center /> is the remaining credit  after the last transaction is paid.</p>
</div>
<div class="section" id="master-account">
<h2>Master Account<a class="headerlink" href="#master-account" title="Permalink to this headline">¶</a></h2>
<p>In VeChainThor, we introduce the concept of the master account to make it easier for dapp owners to user MPP and manage their dapps. Specifically, every account, including a smart contract, can have a <em>Master</em> account which is allowed by the system to register/remove <em>Users</em>, set a credit plan and select the active <em>Sponsor</em> for the account. Note that the account that deploys a smart contract becomes the <em>Master</em> of the contract by default. A normal account can also set its <em>Master</em> through calling function <code class="docutils literal notranslate"><span class="pre">setMaster</span></code> implemented in the built-in contract <code class="docutils literal notranslate"><span class="pre">Prototype</span></code>. We will describe the implementation of MPP shortly.</p>
<p>In practice, we may most likely build a dapp based on multiple smart contracts. Each contract may have its own <em>Users</em> and be sponsored by multiple <em>Sponsors</em>. How to manage these accounts suddenly becomes a challenging task the dapp owner has to think about. With the <em>Master</em> mechanism and built-in contract <code class="docutils literal notranslate"><span class="pre">Prototype</span></code>, the owner does not have to implement anything on the contract code level to user MPP. He/she can now use even a single <em>Master</em> to manage all the contracts through calling functions of contract <code class="docutils literal notranslate"><span class="pre">Prototype</span></code>.</p>
</div>
<div class="section" id="mpp-implementation">
<h2>MPP Implementation<a class="headerlink" href="#mpp-implementation" title="Permalink to this headline">¶</a></h2>
<p>The multi-party payment protocol is implemented by the built-in smart contract <code class="docutils literal notranslate"><span class="pre">Prototype</span></code> deployed at <code class="docutils literal notranslate"><span class="pre">0x000000000000000000000050726f746f74797065</span></code> in the genesis block of VeChainThor.</p>
<div class="section" id="functions-related-to-user">
<h3>Functions related to <em>User</em><a class="headerlink" href="#functions-related-to-user" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">isUser</span></code></p>
<p>Check whether an account is a registered <em>User</em> of another account.</p>
<p>Input:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">address</span> <span class="pre">_self</span></code>: account address</li>
<li><code class="docutils literal notranslate"><span class="pre">address</span> <span class="pre">_user</span></code>: <em>User</em> address</li>
</ul>
<p>Return:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">true</span></code> if <code class="docutils literal notranslate"><span class="pre">_user</span></code> is a <em>User</em> of <code class="docutils literal notranslate"><span class="pre">_self</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise</li>
</ul>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">addUser</span></code> / <code class="docutils literal notranslate"><span class="pre">removeUser</span></code></p>
<p>Add / remove a <em>User</em> for an account. The transaction sender has to be the account itself or its current <em>Master</em>.</p>
<p>Input:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">address</span> <span class="pre">_self</span></code>: account address</li>
<li><code class="docutils literal notranslate"><span class="pre">address</span> <span class="pre">_user</span></code>: <em>User</em> address</li>
</ul>
</div>
<div class="section" id="functions-related-to-the-credit-plan">
<h3>Functions related to the <em>credit plan</em><a class="headerlink" href="#functions-related-to-the-credit-plan" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">creditPlan</span></code></p>
<p>Get the credit plan associated with an account.</p>
<p>Input:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">address</span> <span class="pre">_self</span></code>: account address</li>
</ul>
<p>Return:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">uint256</span> <span class="pre">credit</span></code>: maximum amount of credit (VTHO in wei) allowed for each  <em>User</em> of the account</li>
<li><code class="docutils literal notranslate"><span class="pre">uint256</span> <span class="pre">recoveryRate</span></code>: amount of credit (VTHO in wei) generated per block for  each <em>User</em> of the account</li>
</ul>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">setCreditPlan</span></code></p>
<p>Set a credit plan for an account. The transaction sender has to be either the account itself and its current <em>Master</em>.</p>
<p>Input:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">uint256</span> <span class="pre">credit</span></code>: maximum amount of credit (VTHO in wei) allowed for each  <em>User</em> of the account</li>
<li><code class="docutils literal notranslate"><span class="pre">uint256</span> <span class="pre">recoveryRate</span></code>: amount of credit (VTHO in wei) generated per block for  each <em>User</em> of the account</li>
</ul>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">userCredit</span></code></p>
<p>Get the available credit for a particular <em>User</em> of an account.</p>
<p>Input:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">address</span> <span class="pre">_self</span></code>: account address</li>
<li><code class="docutils literal notranslate"><span class="pre">address</span> <span class="pre">_user</span></code>: <em>User</em> address</li>
</ul>
<p>Return:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">uint256</span></code>: available credit (VTHO in wei) for the <em>User</em></li>
</ul>
</div>
<div class="section" id="functions-related-master">
<h3>Functions related <em>Master</em><a class="headerlink" href="#functions-related-master" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">master</span></code></p>
<p>Get the <em>Master</em> address of the given account address.</p>
<p>Input:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">address</span> <span class="pre">_self</span></code>: account address</li>
</ul>
<p>Return:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">address</span></code>: address of the <em>Master</em> of <code class="docutils literal notranslate"><span class="pre">_self</span></code>.</li>
</ul>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">setMaster</span></code></p>
<p>Set the <em>Master</em> for a particular account. The transaction sender has to be either the account itself or its current <em>Master</em>.</p>
<p>Input:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">address</span> <span class="pre">_self</span></code>: account address</li>
<li><code class="docutils literal notranslate"><span class="pre">address</span> <span class="pre">_newMaster</span></code>: address of the new <em>Master</em> of <code class="docutils literal notranslate"><span class="pre">_self</span></code></li>
</ul>
</div>
<div class="section" id="functions-related-to-sponsor">
<h3>Functions related to <em>Sponsor</em><a class="headerlink" href="#functions-related-to-sponsor" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">sponsor</span></code> / <code class="docutils literal notranslate"><span class="pre">unsponsor</span></code></p>
<p>Sponsor / unsponsor an account. The transaction sender has to be the <em>Sponsor</em> account.</p>
<p>Input:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">address</span> <span class="pre">_self</span></code>: address of the account to be sponsored / unsponsored</li>
</ul>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">isSponsor</span></code></p>
<p>Check whether an input account is a <em>Sponsor</em> of another account.</p>
<p>Input:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">address</span> <span class="pre">_self</span></code>: account address</li>
<li><code class="docutils literal notranslate"><span class="pre">address</span> <span class="pre">_sponsor</span></code>: <em>Sponsor</em> address</li>
</ul>
<p>Return:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">true</span></code> if <code class="docutils literal notranslate"><span class="pre">_sponsor</span></code> is a <em>Sponsor</em> of <code class="docutils literal notranslate"><span class="pre">_self</span></code></li>
</ul>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">selectSponsor</span></code></p>
<p>Select a <em>Sponsor</em>. The transaction sender has to be either the sponsored account or its <em>Master</em>.</p>
<p>Input:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">address</span> <span class="pre">_self</span></code>: account address</li>
<li><code class="docutils literal notranslate"><span class="pre">address</span> <span class="pre">_sponsor</span></code>: <em>Sponsor</em> address</li>
</ul>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">currentSponsor</span></code></p>
<p>Get the current active <em>Sponsor</em>.</p>
<p>Input:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">address</span> <span class="pre">_self</span></code>: account address</li>
</ul>
<p>Return:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">address</span></code>: address of the current active <em>Sponsor</em> of <code class="docutils literal notranslate"><span class="pre">_self</span></code>.</li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, VeChain Developers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>